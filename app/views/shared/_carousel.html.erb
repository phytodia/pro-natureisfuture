
<div class="carousel" data-controller="carousel">
    <button data-action="carousel#previous" class="carousel-control left desktop"><%= image_tag("pictos/icon-nav-arrow-left.png", width:"15px", height:"30px") %></button>
    <button data-action="carousel#next" class="carousel-control right desktop"><%= image_tag("pictos/icon-nav-arrow-right.png", width:"15px", height:"30px")%></button>

    <button data-action="carousel#prevmobile" class="carousel-control left mobile"><%= image_tag("pictos/icon-nav-arrow-left.png",width:"15px", height:"30px")%></button>
    <button data-action="carousel#nextmobile" class="carousel-control right mobile"><%= image_tag("pictos/icon-nav-arrow-right.png", width:"15px", height:"30px")%></button>


  <div class="slides desktop">
    <% locals[:elements].each_slice(3).to_a.each_with_index do |element, index| %>
      <div data-carousel-target="slide" data-index="<%= index %>" class="slide grid three">

        <% element.each do |elmt|%>
          <div class="slide-card-content">
            <% if elmt[:photo].present? %>
              <%= image_tag elmt[:photo],class:"slide-card-img" %>
              <div class="slide-card-desc">
                <div class="slide-card-desc-info">
                  <div>
                    <h3><%= elmt[:name] %></h3>
                    <p><%= elmt[:description].truncate_words(25) %></p>
                  </div>
                  <div class="slide-card-desc-cta">
                    <% if !elmt[:model].nil? && elmt[:model] == "Soin" %>
                      <%= link_to "en savoir plus", soin_path(elmt[:lien]),class: "btn-rond"%>
                    <% elsif !elmt[:model].nil? && elmt[:model] == "Product" %>
                      <%= link_to "en savoir plus", product_path(elmt[:lien]),class: "btn-rond"%>
                    <%else %>
                      <%= link_to "en savoir plus", "",class: "btn-rond"%>
                    <% end %>
                  </div>
                </div>
              </div>
            <% else %>
            <%= image_tag ('https://res.cloudinary.com/dgznjnwgw/image/upload/v1706693201/static%20files/image-not-available_tmxyvm.jpg'),class:"slide-card-img" %>
              <div class="slide-card-desc">
                <div class="slide-card-desc-info">
                  <div>
                    <h3><%= elmt[:name] %></h3>
                    <p><%= elmt[:description].truncate_words(25) %></p>
                  </div>
                  <div class="slide-card-desc-cta">
                    <% if !elmt[:model].nil? && elmt[:model] == "Soin" %>
                      <%= link_to "en savoir plus", soin_path(elmt[:lien]),class: "btn-rond"%>
                    <% elsif !elmt[:model].nil? && elmt[:model] == "Product" %>
                      <%= link_to "en savoir plus", product_path(elmt[:lien]),class: "btn-rond"%>
                    <%else %>
                      <%= link_to "en savoir plus", "",class: "btn-rond"%>
                    <% end %>
                  </div>
                </div>
              </div>
            <% end %>

          </div>
        <% end %>
      </div>
    <% end %>
  </div>


  <div class="slides mobile">
    <% locals[:elements].each_with_index do |element, index| %>
      <div data-carousel-target="slidemobile" data-index="<%= index %>" class="slide">
        <div class="slide-card-mobile-content">
          <% if element[:photo].present? %>
            <div class="slide-card-mobile-image">
              <%= image_tag element[:photo],class:"" %>
            </div>
            <div class="slide-card-mobile-desc">
              <h3><%= element[:name] %></h3>
              <p><%= element[:description].truncate_words(25) %></p>
              <% if !element[:model].nil? && element[:model] == "Soin" %>
                <%= link_to "en savoir plus", soin_path(element[:lien]),class: "btn-rond"%>
              <% elsif !element[:model].nil? && element[:model] == "Product" %>
                <%= link_to "en savoir plus", product_path(element[:lien]),class: "btn-rond"%>
              <% else %>
                <%= link_to "en savoir plus", "",class: "btn-rond"%>
              <% end %>
            </div>
          <% else %>
            <div class="slide-card-mobile-image">
              <%= image_tag ('https://res.cloudinary.com/dgznjnwgw/image/upload/v1706693201/static%20files/image-not-available_tmxyvm.jpg'),class:"" %>
            </div>
            <div class="slide-card-mobile-desc">
              <h3><%= element[:name] %></h3>
              <p><%= element[:description].truncate_words(25) %></p>
              <% if !element[:model].nil? && element[:model] == "Soin" %>
                <%= link_to "en savoir plus", soin_path(element[:lien]),class: "btn-rond"%>
              <% elsif !element[:model].nil? && element[:model] == "Product" %>
                <%= link_to "en savoir plus", product_path(element[:lien]),class: "btn-rond"%>
              <%else %>
                <%= link_to "en savoir plus", "",class: "btn-rond"%>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

</div>
